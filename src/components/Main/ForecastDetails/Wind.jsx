import "../../../assets/scss/components/wind.scss";
import uiDifferentLanguageData from "../../../assets/json/uiDifferentLanguageData.json";
import { PropertyMin, PropertyMinSceleton } from "./PropertyMin";
import getCurrentHourFromPlace from "../../../utils/getCurrentHourFromPlace";

const DEGREES_OF_COMPASS_16_DIRECTIONS = {
  W: 0,
  WNW: 22.5,
  NW: 45,
  NNW: 67.5,
  N: 90,
  NNE: 112.5,
  NE: 135,
  ENE: 157.5,
  E: 180,
  ESE: 202.5,
  SE: 225,
  SSE: 247.5,
  S: 270,
  SSW: 292.5,
  SW: 315,
  WSW: 337.5,
  W: 360,
};

export default function Wind({ apiDataIsLoaded, language, currentPlace }) {
  if (!apiDataIsLoaded) {
    return <PropertyMinSceleton />;
  }

  return (
    <PropertyMin
      icon={
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M6.25 5.5C6.25 3.70508 7.70507 2.25 9.5 2.25C11.2949 2.25 12.75 3.70507 12.75 5.5C12.75 7.29493 11.2949 8.75 9.5 8.75H3C2.58579 8.75 2.25 8.41421 2.25 8C2.25 7.58579 2.58579 7.25 3 7.25H9.5C10.4665 7.25 11.25 6.4665 11.25 5.5C11.25 4.5335 10.4665 3.75 9.5 3.75C8.5335 3.75 7.75 4.5335 7.75 5.5V5.85714C7.75 6.27136 7.41421 6.60714 7 6.60714C6.58579 6.60714 6.25 6.27136 6.25 5.85714V5.5ZM14.25 7.5C14.25 5.15279 16.1528 3.25 18.5 3.25C20.8472 3.25 22.75 5.15279 22.75 7.5C22.75 9.84721 20.8472 11.75 18.5 11.75H2C1.58579 11.75 1.25 11.4142 1.25 11C1.25 10.5858 1.58579 10.25 2 10.25H18.5C20.0188 10.25 21.25 9.01878 21.25 7.5C21.25 5.98122 20.0188 4.75 18.5 4.75C16.9812 4.75 15.75 5.98122 15.75 7.5V8C15.75 8.41421 15.4142 8.75 15 8.75C14.5858 8.75 14.25 8.41421 14.25 8V7.5ZM3.25 14C3.25 13.5858 3.58579 13.25 4 13.25H18.5C20.8472 13.25 22.75 15.1528 22.75 17.5C22.75 19.8472 20.8472 21.75 18.5 21.75C16.1528 21.75 14.25 19.8472 14.25 17.5V17C14.25 16.5858 14.5858 16.25 15 16.25C15.4142 16.25 15.75 16.5858 15.75 17V17.5C15.75 19.0188 16.9812 20.25 18.5 20.25C20.0188 20.25 21.25 19.0188 21.25 17.5C21.25 15.9812 20.0188 14.75 18.5 14.75H4C3.58579 14.75 3.25 14.4142 3.25 14Z"
          />
        </svg>
      }
      name={
        uiDifferentLanguageData[language].components.main_weather_details.wind
      }
    >
      <div className="wind">
        <div className="wind__compass">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 164 163">
            <path d="M85.2294 0V10.1818H82.5774L78.5256 4.3054H78.7294V10.1818H76V0H78.5256L82.2294 5.18182L82.2095 5.86648V0H85.2294Z" />
            <path d="M83.6894 155.36C83.6455 154.976 83.4498 154.678 83.1025 154.465C82.7596 154.248 82.2694 154.14 81.6319 154.14C81.2098 154.14 80.8581 154.184 80.5767 154.271C80.2954 154.358 80.0843 154.479 79.9436 154.632C79.803 154.782 79.7304 154.955 79.726 155.15C79.7172 155.311 79.7568 155.452 79.8447 155.574C79.9371 155.696 80.0689 155.804 80.2404 155.899C80.4163 155.989 80.6273 156.07 80.8735 156.139C81.1197 156.209 81.3967 156.27 81.7044 156.323L82.8651 156.532C83.5334 156.647 84.1225 156.801 84.6325 156.992C85.1469 157.184 85.5777 157.413 85.9251 157.678C86.2768 157.943 86.5428 158.248 86.723 158.594C86.9033 158.939 86.9956 159.326 87 159.755C86.9956 160.432 86.7802 161.013 86.3537 161.498C85.9273 161.983 85.3139 162.355 84.5138 162.613C83.718 162.871 82.7574 163 81.6319 163C80.502 163 79.5172 162.866 78.6775 162.597C77.8377 162.328 77.1849 161.92 76.7188 161.373C76.2528 160.825 76.0132 160.132 76 159.295H79.1259C79.1523 159.64 79.2688 159.928 79.4754 160.158C79.6821 160.389 79.9656 160.563 80.3261 160.682C80.691 160.8 81.1131 160.86 81.5923 160.86C82.032 160.86 82.4057 160.813 82.7134 160.718C83.0256 160.624 83.2652 160.493 83.4323 160.326C83.5993 160.158 83.6851 159.967 83.6894 159.75C83.6851 159.548 83.6059 159.375 83.452 159.232C83.2982 159.086 83.0608 158.96 82.7398 158.855C82.4233 158.747 82.0188 158.648 81.5264 158.557L80.1151 158.295C78.9456 158.083 78.0246 157.739 77.3519 157.265C76.6793 156.787 76.3451 156.141 76.3495 155.328C76.3451 154.665 76.5693 154.085 77.0222 153.586C77.475 153.087 78.1015 152.698 78.9017 152.419C79.7018 152.14 80.6141 152 81.6385 152C82.6849 152 83.5927 152.141 84.3621 152.424C85.1359 152.703 85.736 153.095 86.1625 153.601C86.5889 154.107 86.8066 154.693 86.8153 155.36H83.6894Z" />
            <path d="M3.5 86L0 75H2.83126L4.43064 81.5527H4.51863L6.34576 75H8.65424L10.4814 81.5673H10.5694L12.1739 75H15L11.5 86L9.5 86L7.54141 78.9355H7.45859L5 86H3.5Z" />
            <path d="M155 87L155.352 76H163.5V78.3418H157.778V80.2873H161.994V81.4973V82.5796H157.778V84.6615H163.5L163.464 87H155Z" />
            <path d="M13.0558 12.0558L33.552 28.4404C31.9464 30.0461 31.0461 30.9464 29.4404 32.552L13.0558 12.0558Z" />
            <path d="M150.496 12.0558L134.112 32.552C132.506 30.9464 131.606 30.0461 130 28.4404L150.496 12.0558Z" />
            <path d="M13.0558 149.496L33.552 133.112C31.9464 131.506 31.0461 130.606 29.4404 129L13.0558 149.496Z" />
            <path d="M150.496 149.496L134.112 129C132.506 130.606 131.606 131.506 130 133.112L150.496 149.496Z" />
          </svg>

          <div
            className="wind__compass-arrow"
            style={{
              transform: `translate(-50%, -50%) rotate(${
                DEGREES_OF_COMPASS_16_DIRECTIONS[
                  getCurrentHourFromPlace(currentPlace).windDirection
                ]
              }deg)`,
            }}
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 108 26">
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M19.5 0.875656L0 13L19.5 25.1244V0.875656ZM90 13.5C90 16.4516 89.6398 19.3191 88.9609 22.0608L108 24V2L88.705 3.96524C89.5489 6.9993 90 10.197 90 13.5Z"
              />
            </svg>
          </div>

          <div className="wind__speed">
            <span className="wind__speed-digits">
              {getCurrentHourFromPlace(currentPlace).windSpeedInKPH}
            </span>
            <span className="wind__speed-type">km/h</span>
          </div>
        </div>
      </div>
    </PropertyMin>
  );
}
